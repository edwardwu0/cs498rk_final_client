<div class="row">

    <div class="row">
        <div class="small-12 columns">
            <div ng-show="showMessage" data-alert class="alert-box radius" ng-class="{alert: error, success: !error}">
                {{displayText}}
                <a class="close" ng-click="showMessage=false">&times;</a>
            </div>
        </div>
    </div>

    <div ng-show="validReview">
        <div>
            <h1>{{mode}} a review</h1>

        </div>

        <form name="reviewForm">
            <div class="row">
                <div class="small-12 columns">
                    <label>Course:
                        <select ng-model="review.course"
                                ng-options="course._id as course.name for course in courses"
                                name="course"
                                ng-disabled="disableCourse"
                                required>
                            <option value=""></option>
                        </select>
                    </label>
                    <small ng-show="reviewForm.course.$error.required && (reviewForm.course.$dirty || error)" class="error">
                        Course required
                    </small>
                </div>

                <div class="small-12 columns">
                    <label>Professor:
                        <select ng-model="review.professor"
                                ng-options="prof._id as prof.name for prof in professors"
                                name="prof"
                                ng-disabled="disableProf"
                                required>
                            <option value=""></option>
                        </select>
                    </label>
                    <small ng-show="reviewForm.prof.$error.required && (reviewForm.prof.$dirty || error)" class="error">
                        Professor required
                    </small>
                </div>

                <div class="small-12 columns">
                    <div class="row collapse">

                        <div class="small-3 columns">
                            <label>Rating [0-10]:

                                <input type="number" step="0.1" name="rating" maxlength="4" min="0" max="10"
                                       ng-model="review.rating" class="error" required/>
                            </label>
                            <small ng-show="(reviewForm.rating.$error.min || reviewForm.rating.$error.max) && (reviewForm.rating.$dirty || error)"
                                   class="error">Rating must be between 0 and 10
                            </small>
                            <small ng-show="(reviewForm.rating.$error.number) && (reviewForm.rating.$dirty || error)"
                                   class="error">Rating must be a number
                            </small>
                            <small ng-show="(reviewForm.rating.$error.required) && (reviewForm.rating.$dirty || error)"
                                   class="error">Rating required
                            </small>
                        </div>

                    </div>
                </div>

                <div class="small-12 columns">
                    <label>Review Title:
                        <input type="text" name="title" maxlength="75" ng-model="review.title" class="error"
                               required/>
                    </label>
                    <small ng-show="reviewForm.title.$error.required && (reviewForm.title.$dirty || error)"
                           class="error">
                        Title required
                    </small>
                </div>

                <div class="small-12 columns">
                    <label>Review Text: [{{300 - review.body.length}}]
                    <textarea rows="10" type="text" name="desc"
                              maxlength="300" ng-model="review.body"
                              class="error" required></textarea>
                    </label>
                    <small ng-show="reviewForm.desc.$error.required && (reviewForm.desc.$dirty || error)" class="error">
                        Review required
                    </small>
                </div>
            </div>
        </form>

        <a ng-click="submit()" class="button radius">Submit</a>
        <a ng-href="#/course/{{course._id}}" class="button radius alert">Cancel</a>

    </div>
</div>